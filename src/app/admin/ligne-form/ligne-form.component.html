<section class="container">
    <h2>{{ ((action == 'create') ? 'Ajouter une' : 'Modifier la') }} ligne {{ idPassed }}</h2>

    <form (submit)="submitLigne($event)">
        <div class="form-row">
            <label for="contenu" class="col-sm-2 col-form-label">Contenu :</label>
            <div class="col-sm-10">
                <textarea id="contenu" class="form-control" type="text" name="contenu" placeholder="contenu" required [(ngModel)]="ligne.contenu">{{ ligne.contenu }}</textarea>
            </div>
        </div>

        <div class="form-row">
            <label class="col-sm-2 col-form-label">Active :</label>

            <div class="col-sm-10">
                <div class="form-check form-check-inline">
                    <label class="form-check-label">
                        <input class="form-check-input" name="active" type="radio" [value]="true" [(ngModel)]="ligne.active"> On
                    </label>
                </div>

                <div class="form-check form-check-inline">
                    <label class="form-check-label">
                        <input class="form-check-input" name="active" type="radio" [value]="false" [(ngModel)]="ligne.active"> Off
                    </label>
                </div>
            </div>
        </div>

        <div class="form-row">
            <label class="col-sm-2 col-form-label">Categorie :</label>
            <div class="col-sm-10">
                <select class="form-control" name="categorie" [(ngModel)]="ligne.categorie">
                    <option *ngFor="let categorie of categories" [value]="categorie.id">{{ categorie.libelle }}</option>
                </select>
            </div>
        </div>

        <div class="form-row">
            <label for="position" class="col-sm-2 col-form-label">Position :</label>
            <div class="col-sm-10">
                <input id="position" class="form-control" name="position" type="number" value="0" step="1" min="0" [(ngModel)]="ligne.position" />
            </div>
        </div>

        <div class="form-row">
            <label for="dateDebut" class="col-sm-2 col-form-label">Date début :</label>
            <div class="col-sm-10">
                <input id="dateDebut" class="form-control" type="date" name="dateDebut" [(ngModel)]="ligne.dateDebut" />
            </div>
        </div>
        
        <div class="form-row">
            <label for="dateFin" class="col-sm-2 col-form-label">Date fin :</label>
            <div class="col-sm-10">
                <input id="dateFin" class="form-control" type="date" name="dateFin" [(ngModel)]="ligne.dateFin" />
            </div>
        </div>
        
        <div class="form-row">
            <label for="image" class="col-sm-2 col-form-label">Image :</label>
            <div class="col-sm-10">
                <input id="image" class="form-control-file" type="file" name="image" [(ngModel)]="ligne.image" />
                <img class="col-sm-6 img-fluid" [src]="ligne.image" alt="pas d'image" />
            </div>
        </div>
        
        <div class="form-row">
            <label id="url" class="col-sm-2 col-form-label">Url :</label>
            <div class="col-sm-10">
                <input id="url" class="form-control" type="url" name="lien" [(ngModel)]="ligne.lien" />
            </div>
        </div>

        <div class="form-row">
            <label for="note" class="col-sm-2 col-form-label">Note :</label>
            <div class="col-sm-10">
                <input id="note" class="form-control" name="note" type="number" step="0.5" min="0" max="5" [(ngModel)]="ligne.note" />
            </div>
        </div>

        <div class="form-row">
            <label class="col-sm-2 col-form-label">Seulement l'année :</label>

            <div class="col-sm-10">
                <div class="form-check form-check-inline">
                    <label class="form-check-label">
                        <input class="form-check-input" name="onlyYear" type="radio" [value]="true" [(ngModel)]="ligne.onlyYear"> On
                    </label>
                </div>

                <div class="form-check form-check-inline">
                    <label class="form-check-label">
                        <input class="form-check-input" name="onlyYear" type="radio" [value]="false" [(ngModel)]="ligne.onlyYear"> Off
                    </label>
                </div>
            </div>
        </div>

        <button class="btn btn-success" type="submit">{{ ((action == 'create') ? 'Créer' : 'Modifier') }} la ligne</button>
    </form>
</section>